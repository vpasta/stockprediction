{% extends "admin_base.html" %} {% block title %}Unduh & Simpan Data Saham{%
endblock %} {% block page_title %}Unduh & Simpan Data Saham{% endblock %} {%
block content %}

<div class="card card-primary">
  <div class="card-header">
    <h3 class="card-title">Form Pengambilan Data</h3>
  </div>
  <form method="POST">
    <div class="card-body">
      <div class="form-group">
        <label for="ticker">Ticker Saham:</label>
        <input
          type="text"
          class="form-control"
          id="ticker"
          name="ticker"
          value="{{ default_ticker }}"
          required
        />
      </div>
      <div class="form-group">
        <label for="start_date">Tanggal Mulai:</label>
        <input
          type="date"
          class="form-control"
          id="start_date"
          name="start_date"
          value="{{ default_start_date }}"
          required
        />
      </div>
      <div class="form-group">
        <label for="end_date">Tanggal Selesai:</label>
        <input
          type="date"
          class="form-control"
          id="end_date"
          name="end_date"
          value="{{ default_end_date }}"
          required
        />
      </div>
    </div>
    <div class="card-footer">
      <button type="submit" class="btn btn-primary">Ambil & Simpan Data</button>
    </div>
  </form>
</div>

<div class="card">
  <div class="card-header">
    <h3 class="card-title">Aksi Lanjutan</h3>
  </div>
  <div class="card-body">
    <p>Atau lanjutkan ke proses data yang sudah ada:</p>
    <a
      href="{{ url_for('preprocess', ticker=default_ticker) }}"
      class="btn btn-info"
      >Proses Data Saham {{ default_ticker }}</a
    >
    {% if downloaded_file %}
    <p class="mt-3">File CSV terakhir diunduh: {{ downloaded_file }}</p>
    <a
      href="{{ url_for('download_file', filename=downloaded_file) }}"
      class="btn btn-secondary"
      >Unduh File CSV</a
    >
  </div>
</div>
{% endif %} {% endblock %}
